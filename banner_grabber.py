#!/usr/bin/python3

import socket

def banner(target, port):
    s = socket.socket()
    s.settimeout(5)
    try:
        s.connect((target, int(port)))
        print(str(s.recv(1024)).strip('b'))
    except ConnectionRefusedError:  # Errno 111
        print(f"No service running on port {port} of {target}.")
    except socket.timeout:
        print("Connection timed out.")

def main():
    target = input("Please enter IP or URL: ")
    port = input("Please enter the port: ")
    banner(target, port)

if __name__ == "__main__":
    main()

# scanme.nmap.org, 22 - success
# 137.74.187.104 (hackthissite.org), 80 - timeout
